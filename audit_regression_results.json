[
  {
    "endpoint": "/api/freight/loads/update",
    "method": "GET",
    "status_code": 405,
    "response": {
      "error": "Method not allowed"
    },
    "test_description": "Non-POST method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/freight/loads/update",
    "method": "PUT",
    "status_code": 405,
    "response": {
      "error": "Method not allowed"
    },
    "test_description": "Non-POST method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/freight/loads/update",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "Invalid load id"
    },
    "test_description": "Missing id should return 400",
    "headers": {},
    "request_body": {},
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/freight/loads/update",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "Invalid load id"
    },
    "test_description": "Invalid id should return 400",
    "headers": {},
    "request_body": {
      "id": "invalid"
    },
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/freight/loads/update",
    "method": "POST",
    "status_code": 404,
    "response": {
      "error": "Load not found"
    },
    "test_description": "Non-existent load should return 404",
    "headers": {},
    "request_body": {
      "id": 999999
    },
    "expected_status": 404,
    "passed": true
  },
  {
    "endpoint": "/api/freight/loads/update",
    "method": "POST",
    "status_code": 200,
    "response": {
      "load": {
        "id": 1,
        "ventureId": 1,
        "officeId": null,
        "tmsLoadId": null,
        "reference": "SX-NEW-PHI-10000",
        "shipperName": null,
        "shipperRef": null,
        "customerName": null,
        "customerId": 1,
        "pickupCity": "New York",
        "pickupState": "NY",
        "pickupZip": null,
        "pickupDate": "2025-11-24T02:00:23.177Z",
        "dropCity": "Philadelphia",
        "dropState": "PA",
        "dropZip": null,
        "dropDate": "2025-11-25T02:00:23.177Z",
        "scheduledPickupAt": null,
        "scheduledDeliveryAt": null,
        "actualPickupAt": null,
        "actualDeliveryAt": null,
        "equipmentType": "Dry Van",
        "weightLbs": 12732,
        "rate": null,
        "currency": "USD",
        "loadStatus": "FELL_OFF",
        "atRiskFlag": true,
        "lostAt": null,
        "fellOffAt": "2025-11-24T02:00:23.177Z",
        "lostReasonId": null,
        "status": null,
        "lostReason": null,
        "dormantReason": null,
        "notes": "Test update for audit logging",
        "carrierId": 1,
        "createdById": null,
        "isTest": true,
        "createdAt": "2025-11-22T02:00:23.177Z",
        "updatedAt": "2025-12-07T03:07:26.824Z",
        "buyRate": null,
        "sellRate": null,
        "shipperId": 1,
        "lostReasonCategory": null,
        "billAmount": 3339,
        "costAmount": 2554,
        "marginAmount": 785,
        "marginPercentage": 24,
        "arInvoiceDate": null,
        "apInvoiceDate": null,
        "dispatchDate": null,
        "arPaymentStatus": null,
        "arDatePaid": null,
        "arBalanceDue": null,
        "billingDate": null,
        "miles": null,
        "rpm": null,
        "lineHaulRevenue": null,
        "fuelRevenue": null,
        "accessorialRevenue": null,
        "otherRevenue": null,
        "lineHaulCost": null,
        "fuelCost": null,
        "lumperCost": null,
        "tollsCost": null,
        "detentionCost": null,
        "otherCost": null,
        "createdByTmsName": null,
        "salesAgentAliasId": null,
        "csrAliasId": null,
        "dispatcherAliasId": null,
        "venture": {
          "id": 1,
          "name": "Siox Logistics"
        },
        "office": null,
        "shipper": {
          "id": 1,
          "name": "Walmart DC"
        },
        "carrier": {
          "id": 1,
          "name": "Swift Transportation"
        },
        "customer": {
          "id": 1,
          "name": "Amazon Fulfillment"
        }
      }
    },
    "test_description": "Valid update request (may fail with 403/404 depending on data)",
    "headers": {},
    "request_body": {
      "id": 1,
      "notes": "Test update for audit logging"
    },
    "expected_status": null,
    "passed": true
  },
  {
    "endpoint": "/api/hotels/disputes/1",
    "method": "POST",
    "status_code": 405,
    "response": {
      "raw_response": ""
    },
    "test_description": "Non-GET/PUT method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/hotels/disputes/1",
    "method": "DELETE",
    "status_code": 405,
    "response": {
      "raw_response": ""
    },
    "test_description": "Non-GET/PUT method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/hotels/disputes/1",
    "method": "PUT",
    "status_code": 400,
    "response": {
      "error": "Text too long",
      "detail": "internalNotes must be at most 4000 characters"
    },
    "test_description": "Invalid text field (too long) should return 400",
    "headers": {},
    "request_body": {
      "internalNotes": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    },
    "expected_status": null,
    "passed": true
  },
  {
    "endpoint": "/api/hotels/disputes/999999",
    "method": "PUT",
    "status_code": 500,
    "response": {
      "error": "Failed to update dispute",
      "detail": "\nInvalid `prisma.hotelDispute.update()` invocation:\n\n\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update."
    },
    "test_description": "Non-existent dispute should return 404",
    "headers": {},
    "request_body": {
      "status": "OPEN"
    },
    "expected_status": null,
    "passed": true
  },
  {
    "endpoint": "/api/hotels/disputes/1",
    "method": "PUT",
    "status_code": 500,
    "response": {
      "error": "Failed to update dispute",
      "detail": "\nInvalid `prisma.hotelDispute.update()` invocation:\n\n\nAn operation failed because it depends on one or more records that were required but not found. No record was found for an update."
    },
    "test_description": "Valid update request (may fail with 403/404 depending on data)",
    "headers": {},
    "request_body": {
      "status": "OPEN",
      "internalNotes": "Test update for audit logging"
    },
    "expected_status": null,
    "passed": true
  },
  {
    "endpoint": "/api/bpo/kpi/upsert",
    "method": "GET",
    "status_code": 405,
    "response": {
      "error": "Method not allowed"
    },
    "test_description": "Non-POST method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/bpo/kpi/upsert",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "campaignId and date are required"
    },
    "test_description": "Missing campaignId and date should return 400",
    "headers": {},
    "request_body": {},
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/bpo/kpi/upsert",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "Invalid campaignId or date"
    },
    "test_description": "Invalid campaignId and date should return 400",
    "headers": {},
    "request_body": {
      "campaignId": "invalid",
      "date": "invalid"
    },
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/bpo/kpi/upsert",
    "method": "POST",
    "status_code": 200,
    "response": {
      "success": true,
      "kpi": {
        "id": 901,
        "campaignId": 1,
        "date": "2024-01-01T00:00:00.000Z",
        "talkTimeMin": 120,
        "handledCalls": 50,
        "outboundCalls": 0,
        "leadsCreated": 0,
        "demosBooked": 0,
        "salesClosed": 0,
        "fteCount": null,
        "avgQaScore": null,
        "revenue": 0,
        "cost": 0,
        "isTest": true,
        "createdAt": "2025-12-07T03:07:27.539Z"
      }
    },
    "test_description": "Valid upsert request (may fail with 403 depending on permissions)",
    "headers": {},
    "request_body": {
      "campaignId": 1,
      "date": "2024-01-01",
      "talkTimeMin": 120,
      "handledCalls": 50,
      "isTest": true
    },
    "expected_status": null,
    "passed": true
  },
  {
    "endpoint": "/api/admin/cleanup-test-data",
    "method": "GET",
    "status_code": 405,
    "response": {
      "error": "Method not allowed"
    },
    "test_description": "Non-POST method should return 405",
    "headers": {},
    "request_body": null,
    "expected_status": 405,
    "passed": true
  },
  {
    "endpoint": "/api/admin/cleanup-test-data",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "Must send { confirm: 'DELETE_ALL_TEST_DATA' } to proceed",
      "message": "This action will permanently delete all test data. Send the confirmation to proceed."
    },
    "test_description": "Missing confirmation should return 400",
    "headers": {},
    "request_body": {},
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/admin/cleanup-test-data",
    "method": "POST",
    "status_code": 400,
    "response": {
      "error": "Must send { confirm: 'DELETE_ALL_TEST_DATA' } to proceed",
      "message": "This action will permanently delete all test data. Send the confirmation to proceed."
    },
    "test_description": "Wrong confirmation should return 400",
    "headers": {},
    "request_body": {
      "confirm": "WRONG_CONFIRMATION"
    },
    "expected_status": 400,
    "passed": true
  },
  {
    "endpoint": "/api/admin/cleanup-test-data",
    "method": "POST",
    "status_code": 500,
    "response": {
      "error": "Cleanup failed",
      "message": "\nInvalid `prisma.hotelProperty.deleteMany()` invocation:\n\n\nForeign key constraint violated on the constraint: `HotelKpiDaily_hotelId_fkey`"
    },
    "test_description": "Correct confirmation (should work in dev mode)",
    "headers": {},
    "request_body": {
      "confirm": "DELETE_ALL_TEST_DATA"
    },
    "expected_status": null,
    "passed": true
  }
]